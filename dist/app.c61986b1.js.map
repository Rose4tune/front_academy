{"version":3,"sources":["app.ts"],"names":[],"mappings":"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","file":"app.c61986b1.js","sourceRoot":"..","sourcesContent":["\n\ninterface Store {\n  currentPage: number;\n  feeds: NewsFeed[];\n}\n\ninterface News { //인터섹션, 타입알리아스\n  readonly id: number;\n  readonly time_ago: string;\n  readonly title: string;\n  readonly url: string;\n  readonly user: string;\n  readonly content: string;\n}\ninterface NewsFeed extends News {\n  readonly comments_count: number;\n  readonly points: number;\n  read?: boolean; //옵셔널\n}\ninterface NewsDetail extends News {\n  readonly comments: NewsComment[];\n}\ninterface NewsComment extends News {\n  readonly comments: NewsComment[];\n  readonly level: number;\n}\n\ninterface RouteInfo {\n  path: string;\n  page: View;\n}\n\nconst ajax: XMLHttpRequest = new XMLHttpRequest();\nconst content = document.createElement('div');\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\nconst store: Store = {\n  currentPage: 1,\n  feeds: [],\n}\n\n// ** MIXIN **\n// class를 이용해서 상속을 구현하지만,\n// class의 extends를 사용하지않고 class를 단독의 객체로 바라보면서\n// 필요한 경우마다 class를 합성해서 새로운 기능으로 확장해 나가는 기법.\n// 상위 class를 n개를 받을 수 있고, 분기처리가 용이하여 extends 문법보다 유연성을 가진다\n\nfunction applyApiMinins(targetClass: any, baseClass:any[]): void{\n  baseClass.forEach(baseClass => {\n    Object.getOwnPropertyNames(baseClass.prototype).forEach(name => {\n      const descriptor = Object.getOwnPropertyDescriptor(baseClass.prototype, name);\n\n      if (descriptor) {\n        Object.defineProperty(targetClass.prototype, name, descriptor);\n      }\n    })\n  })\n}\n\nclass Api {\n  getRequest<AjaxResponse>(url: string): AjaxResponse {\n    const ajax = new XMLHttpRequest();\n    ajax.open('GET', url, false);\n    ajax.send();\n\n    return JSON.parse(ajax.response);\n  }\n}\n\nclass NewsFeedApi  {\n  getData(): NewsFeed[] {\n    return this.getRequest<NewsFeed[]>(NEWS_URL);\n  }\n}\n\nclass NewsDetailApi  {\n  getData(id: string): NewsDetail {\n    return this.getRequest<NewsDetail>(CONTENT_URL.replace('@id', id));\n  }\n}\n\ninterface NewsFeedApi extends Api {};\ninterface NewsDetailApi extends Api {};\n\napplyApiMinins(NewsFeedApi, [Api]);\napplyApiMinins(NewsDetailApi, [Api]);\n\n// 제네릭(AjaxResponse, T) : \"입력이 n개일때 출력도 n개이다\" 라는 개념을 이용하는 것\n// function getData<AjaxResponse>(url: string): AjaxResponse {\n//   ajax.open('GET', url, false);\n//   ajax.send();\n\n//   return JSON.parse(ajax.response);\n// }\n// class Api를 만들고 NewsFeedApi, NewsDetailApi 합침\n\nabstract class View {\n  private template: string;\n  private renderTemplate: string;\n  private container: HTMLElement;\n  private htmlList: string[];\n\n  constructor(containerId: string, template: string) {\n    const containerElement = document.getElementById(containerId);\n\n    if(!containerElement) {\n      throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.';\n    }\n\n    this.container = containerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template;\n  }\n\n  protected addHtml(htmlString: string): void{\n    this.htmlList.push(htmlString);\n  }\n\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join('');\n    this.clearHtmlList();\n    return snapshot\n  }\n\n  protected setTemplateData(key: string, value: string): void {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = [];\n  }\n\n  abstract render(): void;\n}\n\nclass Router {\n  routeTable: RouteInfo[];\n  defaultRoute: RouteInfo | null;\n\n  constructor() {\n    window.addEventListener('hashchange', this.route.bind(this));\n\n    this.routeTable = [];\n    this.defaultRoute = null;\n  }\n\n  setDefaultPage(page: View): void {\n    this.defaultRoute = {path:'', page};\n  }\n\n  addRoutePath(path: string, page: View): void {\n    this.routeTable.push({path, page});\n  }\n\n  route() {\n    const routePath = location.hash;\n\n    if(routePath === '' && this.defaultRoute) {\n      this.defaultRoute.page.render();\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if(routePath.indexOf(routeInfo.path) >= 0) {\n        routeInfo.page.render();\n        break;\n      }\n    }\n\n  }\n}\n\nclass NewsFeedView extends View {\n  private api: NewsFeedApi;\n  private feeds: NewsFeed[];\n\n  constructor(containerId: string) {\n    let template: string = `\n    <div class=\"bg-gray-600 min-h-screen\">\n      <div class=\"bg-white text-xl\">\n        <div class=\"mx-auto px-4\">\n          <div class=\"flex justify-between items-center py-6\">\n            <div class=\"flex justify-start\">\n              <h1 class=\"font-extrabold\">Hacker News</h1>\n            </div>\n            <div class=\"items-center justify-end\">\n              <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n                Previous\n              </a>\n              <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n                Next\n              </a>\n            </div>\n          </div> \n        </div>\n      </div>\n      <div class=\"p-4 text-2xl text-gray-700\">\n        {{__news_feed__}}        \n      </div>\n    </div>\n    `;\n\n    super(containerId, template);\n    \n    this.api = new NewsFeedApi();\n    this.feeds = store.feeds;\n    \n    if(this.feeds.length === 0) {\n      this.feeds = store.feeds = this.api.getData();\n      this.makeFeeds();\n    }\n  }\n\n  render(): void {\n    store.currentPage = Number(location.hash.substring(7) || 1);\n\n    for (let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\n      const { id, title, comments_count, user, points, time_ago, read } = this.feeds[i];\n      this.addHtml(`\n      <div class=\"p-6 ${read ? 'bg-red-500' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n        <div class=\"flex\">\n          <div class=\"flex-auto\">\n            <a href=\"#/show/${id}\">${title}</a>  \n          </div>\n          <div class=\"text-center text-sm\">\n            <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\n          </div>\n        </div>\n        <div class=\"flex mt-3\">\n          <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n            <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n            <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n            <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n          </div>  \n        </div>\n      </div>`);\n    }\n\n    this.setTemplateData('news_feed', this.getHtml())\n    this.setTemplateData('prev_page', String(store.currentPage > 1 ? store.currentPage - 1 : 1));\n    this.setTemplateData('next_page', String(store.currentPage < this.feeds.length/10 ? store.currentPage + 1 : this.feeds.length/10));\n    \n    this.updateView()\n  }\n\n  private makeFeeds(): void {\n    for (let i = 0; i < this.feeds.length; i++) {\n      this.feeds[i].read = false;\n    }\n  }\n}\n\nclass NewsDetailView extends View {\n  constructor(containerId: string) {\n    let template = `\n      <div class=\"bg-gray-600 min-h-screen pb-8\">\n        <div class=\"bg-white text-xl\">\n          <div class=\"mx-auto px-4\">\n            <div class=\"flex justify-between items-center py-6\">\n              <div class=\"flex justify-start\">\n                <h1 class=\"font-extrabold\">Hacker News</h1>\n              </div>\n              <div class=\"items-center justify-end\">\n                <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n                  <i class=\"fa fa-times\"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n  \n        <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n          <h2>{{__title__}}</h2>\n          <div class=\"text-gray-400 h-20\">\n          {{__content__}}\n          </div>\n  \n          {{__comments__}}\n  \n        </div>\n      </div>\n    `;\n\n    super(containerId, template);\n  }\n\n  render() {\n    const id = location.hash.substring(7);\n    const api = new NewsDetailApi();\n    const newsDetail: NewsDetail = api.getData(id);\n\n    for (let i = 0; i < store.feeds.length; i++) {\n      if(store.feeds[i].id === Number(id)) {\n        store.feeds[i].read = true;\n        break;\n      }\n    }\n  \n    this.setTemplateData('comments', this.makeComment(newsDetail.comments));\n    this.setTemplateData('currentPage', String(store.currentPage));\n    this.setTemplateData('title', newsDetail.title);\n    this.setTemplateData('content', newsDetail.content);\n    this.updateView();\n  }\n\n  private makeComment(comments: NewsComment[]): string {\n    for (let i = 0; i < comments.length; i++) {\n      const comment: NewsComment = comments[i]\n      this.addHtml(`\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n          <div class=\"text-gray-400\">\n            <i class=\"fa fa-sort-up mr-2\"></i>\n            <strong>${comment.user}</strong> ${comment.time_ago}\n          </div>\n          <p class=\"text-gray-700\">${comment.content}</p>\n        </div>`);\n\n        if(comment.comments.length > 0) {\n          this.addHtml(this.makeComment(comment.comments));\n        }\n    }\n\n    return this.getHtml();\n  }\n}\n\n\n\n\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView('root');\nconst newsDetailView = new NewsDetailView('root');\n\nrouter.setDefaultPage(newsFeedView);\n\nrouter.addRoutePath('/page/', newsFeedView);\nrouter.addRoutePath('/show/', newsDetailView);\n\nrouter.route();"]}